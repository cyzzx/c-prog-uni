#include <stdio.h>
#include <stdlib.h>

struct Student
{
    char name[21];
    char surname[21];
    int grades[6];
    float avg;

    struct Student *next;
};

float calculateAverages(struct Student *x, int n)
{
    int sum = 0;
    for(int i = 0; i < n; i++)
    {
        sum += x->grades[i];
    }

    if (n >= 4)
    {
        x->avg = (float) sum / n;
    }

    else
    {
        x->avg = (float) sum / 4;
    }

    return x->avg;
}

void displayList(struct Student *head)
{
    float max = head->avg;
    struct Student *maxStudent = NULL;
    while (head != NULL)
    {
        if (head->avg > max)
        {
            max = head->avg;
            maxStudent = head;
        }
        head = head->next;
    }

    printf("%s %s %.2f", maxStudent->name, maxStudent->surname, maxStudent->avg);
    
}



int main()
{
    int n;
    printf("Enter number of students: ");
    scanf("%d", &n);
    struct Student *head = NULL;
    struct Student *temp = NULL;

    for(int i = 0; i < n; i++)
    {
        struct Student *newStudent = NULL;
        newStudent = (struct Student*)malloc(sizeof(struct Student));
        scanf("%s %s", newStudent->name, newStudent->surname);
        int j = 0;
        while(1)
        {   
            scanf("%d", &newStudent->grades[j]);
            if(newStudent->grades[j] == -1)
            {
                break;
            }
            j++;
        }

        calculateAverages(newStudent, j);

        if (head == NULL)
        {
            head = newStudent;
        }

        else
        {
            temp->next = newStudent;
        }

        temp = newStudent;

    }

    displayList(head);


    return 0;
}
